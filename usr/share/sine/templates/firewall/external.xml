<?xml version="1.0" encoding="utf-8"?>
<zone target="DROP">
  <short>External</short>
  <description>For use on external networks. You do not trust the other computers on networks to not harm your computer. Only selected incoming connections are accepted.</description>
  <interface name="extern"/>
  <!-- Testumgebung: ssh über Standard-Port 22 -->
  <!-- <service name="ssh"/> -->
  <!-- Produktiv: ssh über Zufallsport xxxxx -->
  <service name="invis-ssh"/>

  <!-- Webserver -->
  <!-- http (80): Für Letsencrypt -->
  <service name="http"/>
  <!-- https (443): Für den Rest --> 
  <service name="https"/>
  <!-- https (anderer Port): Für das invis-Server-Portal -->
  <service name="invis-portal"/>
  <!-- https (443/anderer Port): Für ownCloud --> 
  <service name="owncloud"/>

  <!-- openvpn (1194/UDP) -->
  <service name="openvpn"/>

  <!-- Blocken der icmp-Protkolle, funktioniert noch nicht wie früher sondern rejected anstatt droped -->
  <icmp-block name="address-unreachable"/>
  <icmp-block name="bad-header"/>
  <icmp-block name="beyond-scope"/>
  <icmp-block name="communication-prohibited"/>
  <icmp-block name="echo-reply"/>
  <icmp-block name="echo-request"/>
  <icmp-block name="failed-policy"/>
  <icmp-block name="fragmentation-needed"/>
  <icmp-block name="host-precedence-violation"/>
  <icmp-block name="host-prohibited"/>
  <icmp-block name="host-redirect"/>
  <icmp-block name="host-unknown"/>
  <icmp-block name="host-unreachable"/>
  <icmp-block name="ip-header-bad"/>
  <icmp-block name="neighbour-advertisement"/>
  <icmp-block name="neighbour-solicitation"/>
  <icmp-block name="network-prohibited"/>
  <icmp-block name="network-redirect"/>
  <icmp-block name="network-unknown"/>
  <icmp-block name="network-unreachable"/>
  <icmp-block name="no-route"/>
  <icmp-block name="packet-too-big"/>
  <icmp-block name="port-unreachable"/>
  <icmp-block name="precedence-cutoff"/>
  <icmp-block name="reject-route"/>
  <icmp-block name="required-option-missing"/>
  <icmp-block name="source-route-failed"/>
  <icmp-block name="timestamp-request"/>
  <icmp-block name="tos-host-redirect"/>
  <icmp-block name="tos-host-unreachable"/>
  <icmp-block name="tos-network-redirect"/>
  <icmp-block name="tos-network-unreachable"/>
  <icmp-block name="ttl-zero-during-reassembly"/>
  <icmp-block name="ttl-zero-during-transit"/>
  <icmp-block name="unknown-header-type"/>
  <icmp-block name="unknown-option"/>

  <!-- NAT für das Interne Netz und VPN -->
  <masquerade/>
</zone>
